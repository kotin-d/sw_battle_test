
Посмотрев на разные виды юнитов, видим что они обладают разными стратегиями.
Выделим все эти стратегии в отдельные иерархии.  Важно, стратегия должны иметь важное отличие хоть в одном типе юнита.


Healther
Это стратегия, которая отвечает за здоровье юнита, и за ее смерть.  Видим, что у мины она другая. У нее нет жизней, ведет себя по другому.

Damager
Стратегия нанесения урона. У целителя одна другая, он не отнимает, а прибавляет здоровье.

Finder
Стратегия выбора конкретной цели для атаки. У юнита их может быть несколько,  и они почти у всех разная.

Path
Стратегия расчета пути. Есть юниты которые стоят,  есть ворон,  который летает на две клетки.

Reacher
Стратегия ненаходимиости конкретным Finder, довольно сложная для понимания вещь, поэтому на примере.  Есть мина, она не находиться ни ближнем поиском, не дальним
И есть ворон, которого можно найти только дальним поиском, к тому же с рядом ограничений (уменьшение расстояния поиска)
По большому счету у нас есть таблица Finder-Reacher. Такие таблицы реализуются с помощью двойной диспечерезации.  Но наша таблица очень вырожденная, поэтому полноценный
двойной диспечер нам не нужен. Наверно, это самое сложное место для понимания в системе.


После из стратегий мы собираем юнитов
Например, Воин имеет стратегию пути, скрытности, урона,  здоровья и поиска цели на близкой дистанции

А охотник кроме всего,  имеет стратегию дальнего поиска и дальнего урона.


Для башни у нас поменяется стратегия выбора пути,  на стоячую.  А так же будет стратегия дальнего поиска и дальнего удара. Но не будет ближнего поиска.
Комбинируя в юните разные стратегии, мы довольно просто можем создавать разные виды юнитов. При этом иерархии стратегий легко дополняются и разширяются.



Game - это класс игры,  где и крутиться вся симуляция.  
Game владеет картой,  которая состоит из клеток.  Это сделано с расчетом на то, что проект как будто будет дальше развиваться. В таком случае использовать клетки будет намного удобнее.
Хотя,  в существующем варианте можно было обойтись без них.  Просто в Finder перебирать все юниты на карте,  и считать для них расстояния до атакающего.

События которые мы логируем крайне важны.  И в реальном проекте вместо логов будет графики или что-то реальное и большое.  Что именно мы сейчас не знаем,  но заранее подготовили делегаты,
к котором можно будет прикреплять необходимые действия.  Сейчас это просто делегаты,  которые вызывают логирование.